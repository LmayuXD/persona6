<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/conteudo.css">
    <title>PERSONA 6</title>
</head>

<body onload="loading()">
    <!--CARREGAMENTO DA PÁGINA-->
    <div class="box-load">
        <div class="circle"></div><!--CIRCLE-->
        <div class="circle"></div><!--CIRCLE-->
        <div class="circle"></div><!--CIRCLE-->
        <div class="shadow"></div><!--SHADOW-->
        <div class="shadow"></div><!--SHADOW-->
        <div class="shadow"></div><!--SHADOW-->
    </div><!--BOX LOAD-->

    <!--TELA DE MENU-->
    <div class="btn" id="altera-btn">

        <div class="btn-outline btn-outline-1"></div><!--BTN-1-->
        <div class="btn-outline btn-outline-2"></div><!--BTN-2-->
        <div id="hamburger">
            <span></span>
        </div><!--HAMBURGER-->

    </div><!--BOTÃO DE ALTERNÂNCIA-->

    <div class="sobrepor">
        <svg viewBox="0 0 1000 1000">
            <path d="M0 2S175 1 500 1s500 1 500 1V0H0Z">
        </svg>
    </div><!--SOBREPOSIÇÃO-->

    <div class="menu" id="menu">

        <div class="primeiro-menu">
            <div class="menu-conteiner">
                <div class="wrapper">

                    <div class="menu-item">
                        <a href="#"><span>I</span>Dps</a>
                    </div><!--MENU ITEM-->

                    <div class="menu-item">
                        <a href="#"><span>II</span>Eu</a>
                    </div><!--MENU ITEM-->

                    <div class="menu-item">
                        <a href="#"><span>III</span>Troco</a>
                    </div><!--MENU ITEM-->

                </div><!--WRAPPER-->
            </div><!--MENU CONTEINER-->
        </div><!--PRIMEIRO MENU-->

        <div class="segundo-menu">
            <div class="menu-conteiner">
                <div class="wrapper">

                    <div class="menu-item">
                        <a href="#">Continuar</a>
                        <div class="menu-item-revealer"></div><!--MENU-ITEM-REVEALER-->
                    </div><!--MENU ITEM-->

                    <div class="menu-item">
                        <a href="#" onclick="sair()">Sair</a>
                        <div class="menu-item-revealer"></div><!--MENU-ITEM-REVEALER-->
                    </div><!--MENU ITEM-->

                </div><!--WRAPPER-->
                <div class="wrapper">

                    <div class="menu-item">
                        <a href="creditos.html">Créditos</a>
                        <div class="menu-item-revealer"></div><!--MENU-ITEM-REVEALER-->

                    </div><!--MENU ITEM-->
                </div><!--WRAPPER-->
            </div><!--MENU CONTEINER-->
        </div><!--SEGUNDO MENU-->

    </div><!--ITENS DO MENU-->

    <!--CONTEÚDO DO JOGO-->
    <div id="conteudo">
        <h1 class="hero-title" style="display: none;">PERSONA 6</h1>
        <div id="imagem-personagem">
            <img id="cena-do-personagem" src="joker.jpeg" alt="Era pra ter um personagem aqui">
        </div><!--IMAGEM PERSONAGEM-->
        <div id="dialogo">
            <p id="texto-da-historia">IS THAT THE GRIM REAPER???...</p>
        </div><!--DIÁLOGO-->
        <div id="prox">
            <button id="botaoProx">Próximo</button>
        </div><!--PROXIMO-->
        <div id="respostas"></div><!--RESPOSTAS-->
    </div><!--CONTEÚDO-->

    <!--JAVASCRIPT-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.3.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/CSSRulePlugin.min.js"></script>

    <!--JAVASCRIPT TELA DE CARREGAMENTO-->
    <script>
        function loading() {
            document.getElementsByClassName("box-load")[0].style.display = "none";
            document.getElementsByClassName("conteudo")[0].style.display = "block";
        }
    </script>

    <!--JAVASCRIPT DO MENU-->
    <script>
        //setup
        const tl = gsap.timeline({ paused: true });
        let path = document.querySelector("path");
        let spanBefore = CSSRulePlugin.getRule("#hamburger span:before");

        gsap.set(spanBefore, { background: "#000" });
        gsap.set(".menu", { visibility: "hidden" });

        //alteração do menu
        function revelarMenu() {
            revelarItensDoMenu();

            const hamburger = document.getElementById("hamburger");
            const alteraBtn = document.getElementById("altera-btn");
            const conteudo = document.getElementById("conteudo");


            alteraBtn.onclick = function (e) {
                hamburger.classList.toggle("active");
                tl.reversed(!tl.reversed());

                if (hamburger.classList.contains("active")) {
                    conteudo.style.display = "none";
                } else {
                    setTimeout(() => {
                        conteudo.style.display = "block";
                    }, 1500);
                }
            };
        }

        revelarMenu();

        function revelarItensDoMenu() {

            const start = "M0 502S175 272 500 272s500 230 500 230V0H0Z";
            const end = "M0,1005S175,995,500,995s500,5,500,5V0H0Z";

            const power2 = "power2.inOut";
            const power4 = "power4.inOut";

            //animação do hamburger
            tl.to("#hamburger", 1.25, {
                marginTop: "-5px",
                x: -40,
                y: 40,
                ease: power4,
            });

            tl.to("#hamburger span", 1, {
                background: "#e2e2dc",
                ease: power2,
            },
                "<"
            );
            tl.to(spanBefore, 1, {
                background: "#e2e2dc",
                ease: power2,
            },
                "<"
            );
            tl.to(".btn .btn-outline", 1.25, {
                x: -40,
                y: 40,
                width: "140px",
                heigth: "140px",
                border: "1px solid #e2e2dc",
                ease: power4,
            },
                "<"
            );
            tl.to(path, 0.8, {
                attr: {
                    d: start,
                },
                ease: power2.easeIn,
            },
                "<"
            ).to(path, 0.8, {
                attr: {
                    d: end,
                },
                ease: power2.easeIn,
            },
                "<"
            );

            tl.to(".menu", 1, {
                visibility: "visible",
            },
                "-=0.5"
            );

            tl.to(".menu-item > a", 1, {
                top: 0,
                ease: "power3.out",
                stagger: {
                    amount: 0.5,
                },
            },
                "-=1"
            ).reverse();
        }

    </script>

    <!--SAIR DO JOGO: MENU-->
    <script>
        function sair() {
            window.close();
        }
    </script>

    <!--JAVASCRIPT CONTEÚDO D/JOGO-->
    <script>
        const historia = {
            pergunta01: {
                text: "IS THAT THE GRIM REAPER??",
                image: "imagens/enzov2.png",
                respostas: [
                    { text: "Você, como chefe do jornal, não tinha conhecimento sobre “Voice”?", next: "respostaAsh01" },
                    { text: "Você tem um estilo de escrita bastante único, “Voice” tem uma escrita muito similar a sua, o que você acha sobre isso?", next: "respostaAsh02" },
                    { text: "Qual você acredita ser a motivação de “Voice”?", next: "respostaAsh03" }],
                mostrarRespostas: true
            },
            respostaAsh01: {
                text: " Claro que eu sei sobre “Voice”. Todas as edições do jornal passam pelas minhas mãos, porém, essa coluna em particular nunca está presente na edição final. Eu não tenho ideia como ela acaba na publicação.",
                image: "imagens/makoto.jpeg",
                respostas: null,
                next: "ato3"
            },
            respostaAsh02: {
                text: "Se é alguém do jornal, todos conhecem minha escrita. Não é difícil de copiar, além disso, eu não seria burro o suficiente para escrever com meu próprio estilo de escrita.",
                image: "imagens/joker.jpeg",
                respostas: null,
                next: "ato3"
            },
            respostaAsh03: {
                text: "Precisa de uma grande motivação? Quem não gosta de fofoca? Mas esse “Voice” errou ao tentar destruir o meu jornal. Acredite Raven, se eu descobrir quem está fazendo isso, ele vai querer ter sido pego por você.",
                image: "imagens/makoto.jpeg",
                respostas: null,
                next: "ato3"
            },
            pergunta02: {
                text: "...",
                image: "imagens/pickmev2.jpeg",
                respostas: [
                    { text: "Você é editora do jornal, correto? Uma de suas funções é escolher o que vai ou não para a pauta, pode me explicar como essa coluna acabou na primeira página do jornal?", next: "respostaLili01" },
                    { text: "Eu sei que sua entrada na equipe do jornal é recente, você pode me dizer sua impressão sobre todos os integrantes?", next: "respostaLili02" },
                    { text: "Qual você acredita ser a motivação de “Voice”?", next: "respostaLili03" }],
                mostrarRespostas: true
            },
            respostaLili01: {
                text: "Sim, eu sou uma das editoras. Quando eu reviso, não tem nada além do que foi decidido. Mas, como eu disse, eu não sou a única editora.",
                image: "imagens/makoto.jpeg",
                respostas: null,
                next: "ato3"
            },
            respostaLili02: {
                text: "Não tenho problema com nenhum dos meninos, eles têm sido bem legais comigo. Porém, a Heather é meio esquisita. Ela fica muito quieta, o Nati até tenta falar com ela, mas sei lá.",
                image: "imagens/joker.jpeg",
                respostas: null,
                next: "ato3"
            },
            respostaLili03: {
                text: "Acho que deve ser alguém desesperado por atenção, sabe? Provavelmente algum esquisitão com inveja do sucesso do nosso jornal.",
                image: "imagens/makoto.jpeg",
                respostas: null,
                next: "ato3"
            },
            pergunta03: {
                text: "...",
                image: "imagens/loiro.png",
                respostas: [
                    { text: "Você é o fotógrafo, certo? Eu sempre achei interessante um esportista se interessar por uma atividade tão passiva quanto fazer parte do jornal da escola. O que te fez querer entrar?", next: "respostaNathaniel01" },
                    { text: "Eu sei que sua entrada na equipe do jornal é recente, você pode me dizer sua impressão sobre todos os integrantes?", next: "respostaLili02" },
                    { text: "Qual você acredita ser a motivação de “Voice”?", next: "respostaLili03" }],
                mostrarRespostas: true
            },
            ato3: {
                text: "...As they say",
                image: "imagens/joker.jpeg",
                respostas: null,
                next: "pergunta01"
            }
        };


        function carregarCena(sceneKey) {
            const cena = historia[sceneKey];

            document.getElementById("texto-da-historia").textContent = cena.text;
            document.getElementById("cena-do-personagem").src = cena.image;

            const respostasCon = document.getElementById("respostas");
            respostasCon.innerHTML = "";
            respostasCon.classList.remove("mostrar");

            if (cena.mostrarRespostas) {
                document.getElementById("botaoProx").onclick = () => mostrarRespostas(cena.respostas);
            } else {
                document.getElementById("botaoProx").onclick = () => carregarCena(cena.next);
            }
        }

        function mostrarRespostas(respostas) {
            const respostasCon = document.getElementById("respostas");
            respostasCon.innerHTML = "";

            respostas.forEach(resposta => {
                const button = document.createElement("button");
                button.textContent = resposta.text;
                button.classList.add("resposta-btn");
                button.addEventListener("click", () => carregarCena(resposta.next));
                respostasCon.appendChild(button);
            });
            respostasCon.classList.add("mostrar");
        }

        carregarCena("pergunta01");
    </script>
</body>

</html>